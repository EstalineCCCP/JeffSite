<!DOCTYPE html>
<html lang="en">
<head>
	<title>Banco De Quest√µes | Jefferson T.</title>
	<link rel="canonical" href="http://mmori.com/">
	<link rel='alternate' type='application/rss+xml' title="Jefferson T. RSS" href='../../index.xml'>
	<link rel='stylesheet' type='text/css' href='../../style.css'>
	<link rel="icon" href="../../favicon.ico">
	<meta name="description" content=" &lt;!DOCTYPE html&gt; Gerar nova quest√£o ">
	<meta name="keywords" content="projetos, medicina">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="robots" content="index, follow">
	<meta charset="utf-8">
</head>
<body>
<main>
<header><h1 id="tag_Banco de quest√µes">
  Banco de quest√µes
</h1></header>
<article>

  
  <div class="barra">
    <a href="../../index.html" alt="In√≠cio">üè†Ô∏é In√≠cio</a>
    <a href="../../sobre/index.html" alt="Sobre">‚òÖ Sobre</a>
    <a href="../../dicionario/index.html" alt="Dicion√°rio">üïÆ  Dicion√°rio</a>
    <a href="../../medicina/bancoquestoes-intro/index.html" alt="Banco de quest√µes">‚úç Banco de quest√µes</a>
    <a href="../../tags/ci√™ncia/index.html" alt="Ci√™ncia">‚ò¢ Ci√™ncia</a>
    <a href="../../tags/viagem/index.html" alt="Viagem">‚õ± Viagem</a>
    <a href="../../tags/filosofia/index.html" alt="Filosofia">‚òØ Filosofia</a>
    <a href="../../tags/culin√°ria/index.html" alt="Culin√°ria">üçΩ Culin√°ria</a>
    <a href="../../tags/projetos/index.html" alt="Projetos">üõ† Projetos</a>
    <a href="../../tags/programa√ß√£o/index.html" alt="Programa√ß√£o">üßëüèΩ‚Äçüíª Programa√ß√£o</a>
  </div>

  


  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const item = document.querySelector('h1');
      item.classList.add('show');
    });
  </script>
  <!-- <p style="color:black; background: red; font-weight: bold" class="center"><big> Em constru√ß√£o</p> -->


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <div class="counter">
    <div id="counter"></div>
  </div>
  <div style="padding-left: 5%" id="question-container"></div>
  <div id="info-question"></div>
  <br>
  <button style="margin-left: 5%" onclick="generateRandomQuestion()">Gerar nova quest√£o</button>
<script>

let total = 0;
let errors = 0;
let corrects = 0;
let questions;
let prova = "N/A";
let ano = "N/A";
let banca = "N/A";
let textoBase;
let solvedQuestions = [];
let randomIndex;
fetch('/questoes.json')
  .then(response => response.json())
  .then(data => { 
    questions = data;
  })
  .catch(error => { 
    console.error(
      'Erro ao carregar o arquivo JSON:', error);
  });

const container = document.getElementById('question-container');
const counter = document.getElementById('counter');

function generateRandomQuestion() {
  container.innerHTML = '';
     console.log("questions len -> "+questions.length)
     console.log("solved len -> "+solvedQuestions.length)

  if (solvedQuestions.length === questions.length){
    alert("Fim das quest√µes")
    return // otimizado pq assim se a fun√ß√£o √© chamada 
           //novamente se recusa a executar!
  }

  randomIndex = Math.floor(Math.random() * questions.length);
  
  while (solvedQuestions.includes(randomIndex)  &&
        (solvedQuestions.length !== questions.length + 1 )) {
     randomIndex = Math.floor(Math.random() * questions.length);
  }

  if (!solvedQuestions.includes(randomIndex)){
       solvedQuestions.push(randomIndex);
  }

  const randomQuestion = questions[randomIndex]; 

  const questionDiv = document.createElement('div');
  if (randomQuestion.banca !== undefined) { banca = randomQuestion.banca};
  if (randomQuestion.ano !== undefined) { ano = randomQuestion.ano};
  if (randomQuestion.prova !== undefined) { prova = randomQuestion.prova};

  questionDiv.appendChild(document.createElement('br'));
  if (randomQuestion.imagem !== undefined) { 
    let imagem = document.createElement('img');
    imagem.src = "/banco-questoes/"+randomQuestion.imagem;
    questionDiv.appendChild(imagem);
  }

  // o texto base vem antes da questao
  if (randomQuestion.texto_base !== undefined) { 
    let texto_base = document.createElement('p');
    texto_base.textContent = randomQuestion.texto_base;
    questionDiv.appendChild(texto_base);
  }

  const questaum = document.createElement('p');
  questaum.textContent = randomQuestion.questao;
  questionDiv.appendChild(questaum);

  // Multipla Escolha
  if (randomQuestion.tipo === 'multipla_escolha') {
     let answerIndex = 0;
     randomQuestion.alternativas.forEach(choice => {
      const radio = document.createElement('input');
      radio.type = 'radio';
      radio.name = 'answer'; 
      radio.value = choice;
      radio.id = `${answerIndex}`;

      const label = document.createElement('label');
      const breakline = document.createElement('br');
      label.innerHTML = choice;

      questionDiv.appendChild(radio);
      questionDiv.appendChild(label);
      questionDiv.appendChild(breakline);
      answerIndex = answerIndex + 1; 
    });
  } else if (randomQuestion.tipo === 'verdadeiro_falso') {
    const trueRadio = document.createElement('input');
    trueRadio.type = 'radio';
    trueRadio.name = 'answer';
    trueRadio.value = 'true';
    trueRadio.id = 'true';

    const trueLabel = document.createElement('label');
    trueLabel.htmlFor = 'true';
    trueLabel.appendChild(document.createTextNode('Verdadeiro'));

    const falseRadio = document.createElement('input');
    falseRadio.type = 'radio';
    falseRadio.name = 'answer';
    falseRadio.value = 'false';
    falseRadio.id = 'false';

    const falseLabel = document.createElement('label');
    falseLabel.htmlFor = 'false';
    falseLabel.appendChild(document.createTextNode('Falso'));

    questionDiv.appendChild(trueRadio);
    questionDiv.appendChild(trueLabel);
    questionDiv.appendChild(falseRadio);
    questionDiv.appendChild(falseLabel);
  }

  // Adicione uma quebra de linha antes do bot√£o "Resolver"
  questionDiv.appendChild(document.createElement('br'));

  const solveButton = document.createElement('button');
  solveButton.innerHTML = 'Resolver';
  solveButton.id = 'resolver';
  solveButton.onclick = () => checkAnswer(randomIndex, randomQuestion.tipo);
  questionDiv.appendChild(solveButton);

  container.appendChild(questionDiv);

  counter.innerHTML = `<span style="color: white"> ${prova}</span><br>BANCA: <span style="color: white"> ${banca}</span> ANO: <span style="color: white"> ${ano}</span><br>Corretas:  <span style="color: springgreen">${corrects} </span>Erradas:  <span style="color: red">${errors} </span><br>`
}

function checkAnswer(index, questionType) {
  // Captura a resposta marcada
  const checkedRadio = document.querySelector('input[name="answer"]:checked');
  
  if (checkedRadio) {
    const userAnswer = checkedRadio.id;
    // L√≥gica para verificar a resposta aqui
    // Compare a resposta marcada com o gabarito no array 'questions'
    if (userAnswer === JSON.stringify(questions[index].resposta_bool) ||
    userAnswer === JSON.stringify(questions[index].resposta_multipla)) {
      corrects = corrects + 1;
      document.getElementById('resolver').style.backgroundColor = 'green';
      document.getElementById('resolver').innerHTML = 'Acertou!';
      document.getElementById('resolver').disabled = true; 
    } else {
      errors = errors + 1;
      document.getElementById('resolver').style.backgroundColor = 'red';
      document.getElementById('resolver').innerHTML = 'Errou!';
      document.getElementById('resolver').disabled = true; 
    }
  } else {
    alert('Nenhuma op√ß√£o marcada para a pergunta!');
  }

  counter.innerHTML = `<span style="color: white"> ${prova}</span><br>BANCA: <span style="color: white"> ${banca}</span> ANO: <span style="color: white"> ${ano}</span><br>Corretas:  <span style="color: springgreen">${corrects} </span>Erradas:  <span style="color: red">${errors} </span><br>`
}
prova = "N/A";
ano = "N/A";
banca = "N/A";
textoBase = undefined;

generateRandomQuestion();
</script>
</body>
</html>


  

<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false}
            ]
        });
    });
</script>


  


<br>
        <hr>
        <div style="clear:both" class=taglist><a id="tag_projetos" href="http://mmori.com/tags/projetos">Projetos</a> &middot; <a id="tag_medicina" href="http://mmori.com/tags/medicina">Medicina</a></div>
</article>
</main>

<footer>
  <a href="http://mmori.com/">In√≠cio</a>
</footer>

</body>
</html>
